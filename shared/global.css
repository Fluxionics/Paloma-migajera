@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=IM+Fell+English:ital@0;1&display=swap');

/* ============================================
   PALOMA MIGAJERA v3 — DESIGN SYSTEM
   Aesthetic: Dark Gothic Pixel Urban
   ============================================ */

:root {
  --ink:        #080810;
  --void:       #0c0c16;
  --panel:      #12121e;
  --surface:    #1a1a28;
  --border:     #252535;
  --border-hi:  #383850;
  --muted:      #3a3a55;
  --dim:        #6060880;
  --text-dim:   #606080;
  --text:       #b0b0d0;
  --text-hi:    #e8e8ff;
  --white:      #f4f4ff;

  /* Accentos */
  --gold:       #e8c840;    /* migaja dorada */
  --gold-dim:   #a08820;
  --sky:        #6ab0d8;    /* cielo urbano */
  --rust:       #c06030;    /* pan tostado */
  --blood:      #c03030;    /* vida/peligro */
  --teal:       #30a0a0;    /* energía */
  --green:      #40b860;    /* éxito */

  /* Fuentes */
  --font-title: 'Cinzel', serif;
  --font-body:  'IM Fell English', serif;

  /* Movimiento */
  --ease:       cubic-bezier(0.16, 1, 0.3, 1);
  --fast:       0.12s;
  --mid:        0.28s;
  --slow:       0.55s;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  width: 100%; height: 100%;
  background: var(--ink);
  color: var(--text);
  font-family: var(--font-body);
  font-size: 16px;
  overflow: hidden;
  user-select: none;
  -webkit-user-select: none;
}

/* ---- Fondos ---- */
.bg {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse 70% 50% at 15% 90%, rgba(232,200,64,0.035) 0%, transparent 60%),
    radial-gradient(ellipse 50% 70% at 85% 10%, rgba(106,176,216,0.03) 0%, transparent 60%),
    linear-gradient(160deg, #080810 0%, #0e0e1c 40%, #080812 100%);
}

.grain {
  position: fixed; inset: -50%; width: 200%; height: 200%;
  z-index: 0; pointer-events: none; opacity: 0.5;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.045'/%3E%3C/svg%3E");
  animation: grain-anim 6s steps(8) infinite;
}
@keyframes grain-anim {
  0%,100%{transform:translate(0,0)} 12%{transform:translate(-2%,-3%)} 25%{transform:translate(3%,1%)}
  37%{transform:translate(-1%,3%)} 50%{transform:translate(2%,-1%)} 62%{transform:translate(-3%,2%)}
  75%{transform:translate(1%,-2%)} 87%{transform:translate(2%,3%)}
}

.particles-canvas {
  position: fixed; inset: 0; z-index: 1; pointer-events: none;
}

/* ---- Contenedor base ---- */
.screen {
  position: relative; z-index: 10;
  width: 100%; height: 100%;
  display: flex; flex-direction: column;
}

/* ---- Paneles ---- */
.panel {
  background: rgba(18,18,30,0.88);
  border: 1px solid var(--border);
  backdrop-filter: blur(16px);
}
.panel-title {
  font-family: var(--font-title);
  font-size: 0.6rem; font-weight: 700;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: var(--gold);
  padding: 10px 18px;
  border-bottom: 1px solid var(--border);
}

/* ---- Botones ---- */
.btn {
  position: relative; overflow: hidden;
  font-family: var(--font-title);
  font-size: 0.68rem; font-weight: 700;
  letter-spacing: 0.22em; text-transform: uppercase;
  color: var(--text-dim);
  background: transparent;
  border: 1px solid var(--border);
  padding: 11px 28px;
  cursor: pointer;
  transition: color var(--mid) var(--ease), border-color var(--mid) var(--ease);
}
.btn::before {
  content:''; position: absolute; inset: 0;
  background: var(--gold); opacity: 0;
  transform: scaleX(0); transform-origin: left;
  transition: transform var(--mid) var(--ease), opacity var(--mid);
}
.btn:hover { color: var(--gold); border-color: var(--gold-dim); }
.btn:hover::before { transform: scaleX(1); opacity: 0.07; }

.btn-primary { border-color: var(--gold-dim); color: var(--gold); }
.btn-primary:hover { box-shadow: 0 0 20px rgba(232,200,64,0.2); }

.btn-danger  { border-color: var(--blood); color: var(--blood); }
.btn-danger:hover { background: rgba(192,48,48,0.1); }

.btn-ghost { border-color: transparent; color: var(--text-dim); }
.btn-ghost:hover { border-color: var(--border); }

/* ---- Separador ---- */
.hr {
  width: 100%; height: 1px;
  background: linear-gradient(90deg, transparent, var(--border), transparent);
  margin: var(--g) 0;
}

/* ---- Scrollbar mínima ---- */
::-webkit-scrollbar { width: 3px; }
::-webkit-scrollbar-track { background: var(--void); }
::-webkit-scrollbar-thumb { background: var(--muted); border-radius: 2px; }

/* ---- Toast ---- */
.toast {
  position: fixed; top: 16px; right: 16px; z-index: 9999;
  padding: 11px 20px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-left: 3px solid var(--gold);
  font-family: var(--font-title);
  font-size: 0.62rem; letter-spacing: 0.15em;
  color: var(--text-hi);
  box-shadow: 0 8px 32px rgba(0,0,0,0.7);
  animation: toastIn var(--mid) var(--ease) forwards;
  max-width: 300px; pointer-events: none;
}
.toast.ok  { border-left-color: var(--green); }
.toast.bad { border-left-color: var(--blood); }
.toast.info{ border-left-color: var(--sky); }

@keyframes toastIn  { from{ transform:translateX(340px); opacity:0 } to{ transform:none; opacity:1 } }
@keyframes toastOut { from{ transform:none; opacity:1 } to{ transform:translateX(340px); opacity:0 } }

/* ---- Animaciones de entrada ---- */
.fade-up {
  opacity: 0; transform: translateY(14px);
  animation: fadeUp var(--slow) var(--ease) forwards;
}
@keyframes fadeUp { to{ opacity:1; transform:none } }

.stagger > * { opacity:0; transform:translateY(10px); animation: fadeUp 0.5s var(--ease) forwards; }
.stagger > *:nth-child(1){animation-delay:0.05s} .stagger > *:nth-child(2){animation-delay:0.12s}
.stagger > *:nth-child(3){animation-delay:0.19s} .stagger > *:nth-child(4){animation-delay:0.26s}
.stagger > *:nth-child(5){animation-delay:0.33s} .stagger > *:nth-child(6){animation-delay:0.40s}
.stagger > *:nth-child(7){animation-delay:0.47s} .stagger > *:nth-child(8){animation-delay:0.54s}

/* ---- Barra de estado (HUD) ---- */
.stat-bar {
  height: 5px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.08);
  overflow: hidden;
}
.stat-bar-fill {
  height: 100%; transition: width 0.35s var(--ease);
}
.stat-bar-fill.hp     { background: linear-gradient(90deg,#901818,#d04040); }
.stat-bar-fill.energy { background: linear-gradient(90deg,#188080,#30c0c0); }
.stat-bar-fill.xp     { background: linear-gradient(90deg,#806010,var(--gold)); }

/* ---- Corazones ---- */
.heart {
  width: 13px; height: 13px;
  background: var(--blood);
  clip-path: polygon(50% 0%,100% 28%,100% 68%,50% 100%,0% 68%,0% 28%);
  transition: background 0.2s;
  flex-shrink: 0;
}
.heart.empty { background: #2a1010; }
